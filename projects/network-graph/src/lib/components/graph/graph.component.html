<div class='graph-section-container' #graphcontainer [style.height.px]='options.height'>
    <div class='graph-svg-section' [style.height.px]='options.height'>
        <svg #svg [attr.width]='options.width - SVG_MARGIN' [attr.height]='options.height - SVG_MARGIN' (click)='viewportClick()'> 
            <defs> 
                <marker id='arrowhead' viewBox='0 0 10 10' refX='7' refY='5' markerUnits='strokeWidth' 
                        markerWidth='8' markerHeight='6' orient='auto'>
                    <path d='M 0 0 L 10 5 L 0 10 z' stroke='none' fill='#595959' /> 
                </marker> 
                <filter x='0' y='0' width='1' height='1' id='bg-text'>
                    <feFlood flood-color='white' flood-opacity='1' />
                    <feComposite in='SourceGraphic' operator='xor' /> 
                </filter> 
            </defs> 
            <g [zoomableOf]='svg' id='nw-root'>
                <g [link]="link" [hideLabel]="hideLabel$ | async" *ngFor="let link of links"></g> 
                <g [node]="node" style="outline: none"
                    [graph]="graphEngineService" 
                    *ngFor="let node of nodes; let indexOfNode=index; trackBy: trackItem" 
                    [rootNodeId]="rootNodeId$ | async" 
                    [selectedNodes]="selectedNodes$ | async" 
                    [nodes]="nodes" [hideLabel]="hideLabel$ | async" 
                    (expandNode)="expandNode($event)" 
                    (focus)="latestFocusedNode=node" 
                    (contextmenu)="onOpenContextMenu($event, node, indexOfNode); $event.preventDefault();" 
                    (notifyIsSkewed)='notifyIsSkewed($event)' 
                    (selectNode)="selectNode($event)" 
                    (selectOnlyClickedNode)="selectOnlyClickedNode($event)" 
                    cdkOverlayOrigin #noderef="cdkOverlayOrigin">
                </g>
                <g [node-label]="node" style="outline: none" [hideLabel]="hideLabel$ | async" *ngFor="let node of nodes;"> 
                </g> 
            </g> 
        </svg> 
    </div>
</div>